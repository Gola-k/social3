{"ast":null,"code":"import { writeContract as viem_writeContract } from 'viem/actions';\nimport { getAction } from '../utils/getAction.js';\nimport { getAccount } from './getAccount.js';\nimport { getConnectorClient } from './getConnectorClient.js';\nimport { simulateContract } from './simulateContract.js';\n/** https://wagmi.sh/core/api/actions/writeContract */\nexport async function writeContract(config, parameters) {\n  const {\n    account,\n    chainId,\n    connector,\n    __mode,\n    ...rest\n  } = parameters;\n  let client;\n  if (typeof account === 'object' && account.type === 'local') client = config.getClient({\n    chainId\n  });else client = await getConnectorClient(config, {\n    account,\n    chainId,\n    connector\n  });\n  const {\n    connector: activeConnector\n  } = getAccount(config);\n  let request;\n  if (__mode === 'prepared' || activeConnector?.supportsSimulation) request = rest;else {\n    const {\n      request: simulateRequest\n    } = await simulateContract(config, {\n      ...rest,\n      account,\n      chainId\n    });\n    request = simulateRequest;\n  }\n  const action = getAction(client, viem_writeContract, 'writeContract');\n  const hash = await action({\n    ...request,\n    ...(account ? {\n      account\n    } : {}),\n    chain: chainId ? {\n      id: chainId\n    } : null\n  });\n  return hash;\n}","map":{"version":3,"names":["writeContract","viem_writeContract","getAction","getAccount","getConnectorClient","simulateContract","config","parameters","account","chainId","connector","__mode","rest","client","type","getClient","activeConnector","request","supportsSimulation","simulateRequest","action","hash","chain","id"],"sources":["/Users/siddharthpranay/Desktop/projects/Chirping/frontend/node_modules/@wagmi/core/src/actions/writeContract.ts"],"sourcesContent":["import type {\n  Abi,\n  Account,\n  Chain,\n  Client,\n  ContractFunctionArgs,\n  ContractFunctionName,\n} from 'viem'\nimport {\n  type WriteContractErrorType as viem_WriteContractErrorType,\n  type WriteContractParameters as viem_WriteContractParameters,\n  type WriteContractReturnType as viem_WriteContractReturnType,\n  writeContract as viem_writeContract,\n} from 'viem/actions'\n\nimport type { Config } from '../createConfig.js'\nimport type { BaseErrorType, ErrorType } from '../errors/base.js'\nimport type { SelectChains } from '../types/chain.js'\nimport type {\n  ChainIdParameter,\n  ConnectorParameter,\n} from '../types/properties.js'\nimport type { Compute, UnionCompute } from '../types/utils.js'\nimport { getAction } from '../utils/getAction.js'\nimport { getAccount } from './getAccount.js'\nimport {\n  type GetConnectorClientErrorType,\n  getConnectorClient,\n} from './getConnectorClient.js'\nimport {\n  type SimulateContractErrorType,\n  simulateContract,\n} from './simulateContract.js'\n\nexport type WriteContractParameters<\n  abi extends Abi | readonly unknown[] = Abi,\n  functionName extends ContractFunctionName<\n    abi,\n    'nonpayable' | 'payable'\n  > = ContractFunctionName<abi, 'nonpayable' | 'payable'>,\n  args extends ContractFunctionArgs<\n    abi,\n    'nonpayable' | 'payable',\n    functionName\n  > = ContractFunctionArgs<abi, 'nonpayable' | 'payable', functionName>,\n  config extends Config = Config,\n  chainId extends\n    config['chains'][number]['id'] = config['chains'][number]['id'],\n  ///\n  allFunctionNames = ContractFunctionName<abi, 'nonpayable' | 'payable'>,\n  chains extends readonly Chain[] = SelectChains<config, chainId>,\n> = UnionCompute<\n  {\n    // TODO: Should use `UnionStrictOmit<..., 'chain'>` on `viem_WriteContractParameters` result instead\n    // temp workaround that doesn't affect runtime behavior for for https://github.com/wevm/wagmi/issues/3981\n    [key in keyof chains]: viem_WriteContractParameters<\n      abi,\n      functionName,\n      args,\n      chains[key],\n      Account,\n      chains[key],\n      allFunctionNames\n    >\n  }[number] &\n    Compute<ChainIdParameter<config, chainId>> &\n    ConnectorParameter & { __mode?: 'prepared' }\n>\n\nexport type WriteContractReturnType = viem_WriteContractReturnType\n\nexport type WriteContractErrorType =\n  // getConnectorClient()\n  | GetConnectorClientErrorType\n  // simulateContract()\n  | SimulateContractErrorType\n  // base\n  | BaseErrorType\n  | ErrorType\n  // viem\n  | viem_WriteContractErrorType\n\n/** https://wagmi.sh/core/api/actions/writeContract */\nexport async function writeContract<\n  config extends Config,\n  const abi extends Abi | readonly unknown[],\n  functionName extends ContractFunctionName<abi, 'nonpayable' | 'payable'>,\n  args extends ContractFunctionArgs<\n    abi,\n    'nonpayable' | 'payable',\n    functionName\n  >,\n  chainId extends config['chains'][number]['id'],\n>(\n  config: config,\n  parameters: WriteContractParameters<abi, functionName, args, config, chainId>,\n): Promise<WriteContractReturnType> {\n  const { account, chainId, connector, __mode, ...rest } = parameters\n\n  let client: Client\n  if (typeof account === 'object' && account.type === 'local')\n    client = config.getClient({ chainId })\n  else\n    client = await getConnectorClient(config, { account, chainId, connector })\n\n  const { connector: activeConnector } = getAccount(config)\n\n  let request: any\n  if (__mode === 'prepared' || activeConnector?.supportsSimulation)\n    request = rest\n  else {\n    const { request: simulateRequest } = await simulateContract(config, {\n      ...rest,\n      account,\n      chainId,\n    } as any)\n    request = simulateRequest\n  }\n\n  const action = getAction(client, viem_writeContract, 'writeContract')\n  const hash = await action({\n    ...request,\n    ...(account ? { account } : {}),\n    chain: chainId ? { id: chainId } : null,\n  })\n\n  return hash\n}\n"],"mappings":"AAQA,SAIEA,aAAa,IAAIC,kBAAkB,QAC9B,cAAc;AAUrB,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAEEC,kBAAkB,QACb,yBAAyB;AAChC,SAEEC,gBAAgB,QACX,uBAAuB;AAkD9B;AACA,OAAO,eAAeL,aAAaA,CAWjCM,MAAc,EACdC,UAA6E;EAE7E,MAAM;IAAEC,OAAO;IAAEC,OAAO;IAAEC,SAAS;IAAEC,MAAM;IAAE,GAAGC;EAAI,CAAE,GAAGL,UAAU;EAEnE,IAAIM,MAAc;EAClB,IAAI,OAAOL,OAAO,KAAK,QAAQ,IAAIA,OAAO,CAACM,IAAI,KAAK,OAAO,EACzDD,MAAM,GAAGP,MAAM,CAACS,SAAS,CAAC;IAAEN;EAAO,CAAE,CAAC,MAEtCI,MAAM,GAAG,MAAMT,kBAAkB,CAACE,MAAM,EAAE;IAAEE,OAAO;IAAEC,OAAO;IAAEC;EAAS,CAAE,CAAC;EAE5E,MAAM;IAAEA,SAAS,EAAEM;EAAe,CAAE,GAAGb,UAAU,CAACG,MAAM,CAAC;EAEzD,IAAIW,OAAY;EAChB,IAAIN,MAAM,KAAK,UAAU,IAAIK,eAAe,EAAEE,kBAAkB,EAC9DD,OAAO,GAAGL,IAAI,MACX;IACH,MAAM;MAAEK,OAAO,EAAEE;IAAe,CAAE,GAAG,MAAMd,gBAAgB,CAACC,MAAM,EAAE;MAClE,GAAGM,IAAI;MACPJ,OAAO;MACPC;KACM,CAAC;IACTQ,OAAO,GAAGE,eAAe;EAC3B;EAEA,MAAMC,MAAM,GAAGlB,SAAS,CAACW,MAAM,EAAEZ,kBAAkB,EAAE,eAAe,CAAC;EACrE,MAAMoB,IAAI,GAAG,MAAMD,MAAM,CAAC;IACxB,GAAGH,OAAO;IACV,IAAIT,OAAO,GAAG;MAAEA;IAAO,CAAE,GAAG,EAAE,CAAC;IAC/Bc,KAAK,EAAEb,OAAO,GAAG;MAAEc,EAAE,EAAEd;IAAO,CAAE,GAAG;GACpC,CAAC;EAEF,OAAOY,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}