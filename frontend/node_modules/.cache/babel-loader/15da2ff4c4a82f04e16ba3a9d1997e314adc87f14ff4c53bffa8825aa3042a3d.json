{"ast":null,"code":"import{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function User(){const navigate=useNavigate();const[session,setSession]=useState({});const ServerUrl=\"http://localhost:4000\";useEffect(()=>{axios(`${ServerUrl}/authenticate`,{withCredentials:true}).then(_ref=>{let{data}=_ref;console.log(\"data\",data);const{iat,...authData}=data;// remove unimportant iat value\nsetSession(authData);}).catch(err=>{navigate('/signin');});},[]);async function signOut(){await axios(`${ServerUrl}/logout`,{withCredentials:true});navigate('/signin');}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User session:\"}),/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(session,null,2)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:signOut,children:\"Sign out\"})]});}","map":{"version":3,"names":["useEffect","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","User","navigate","session","setSession","ServerUrl","withCredentials","then","_ref","data","console","log","iat","authData","catch","err","signOut","children","JSON","stringify","type","onClick"],"sources":["/Users/siddharthpranay/Desktop/projects/Chirping/frontend/src/components/User.js"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport { useNavigate } from 'react-router-dom';\n\nimport axios from 'axios';\n\nexport default function User() {\n  const navigate = useNavigate();\n\n  const [session, setSession] = useState({});\n\n  const ServerUrl = \"http://localhost:4000\";\n\n\n  useEffect(() => {\n    axios(`${ServerUrl}/authenticate`, {\n      withCredentials: true,\n    })\n      .then(({ data }) => {\n        console.log(\"data\",data);\n        const { iat, ...authData } = data; // remove unimportant iat value\n\n        setSession(authData);\n      })\n      .catch((err) => {\n        navigate('/signin');\n      });\n  }, []);\n\n  async function signOut() {\n    await axios(`${ServerUrl}/logout`, {\n      withCredentials: true,\n    });\n\n    navigate('/signin');\n  }\n\n  return (\n    <div>\n      <h3>User session:</h3>\n      <pre>{JSON.stringify(session, null, 2)}</pre>\n      <button type=\"button\" onClick={signOut}>\n        Sign out\n      </button>\n    </div>\n  );\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE1C,KAAM,CAAAW,SAAS,CAAG,uBAAuB,CAGzCZ,SAAS,CAAC,IAAM,CACdG,KAAK,CAAC,GAAGS,SAAS,eAAe,CAAE,CACjCC,eAAe,CAAE,IACnB,CAAC,CAAC,CACCC,IAAI,CAACC,IAAA,EAAc,IAAb,CAAEC,IAAK,CAAC,CAAAD,IAAA,CACbE,OAAO,CAACC,GAAG,CAAC,MAAM,CAACF,IAAI,CAAC,CACxB,KAAM,CAAEG,GAAG,CAAE,GAAGC,QAAS,CAAC,CAAGJ,IAAI,CAAE;AAEnCL,UAAU,CAACS,QAAQ,CAAC,CACtB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAK,CACdb,QAAQ,CAAC,SAAS,CAAC,CACrB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,cAAe,CAAAc,OAAOA,CAAA,CAAG,CACvB,KAAM,CAAApB,KAAK,CAAC,GAAGS,SAAS,SAAS,CAAE,CACjCC,eAAe,CAAE,IACnB,CAAC,CAAC,CAEFJ,QAAQ,CAAC,SAAS,CAAC,CACrB,CAEA,mBACEF,KAAA,QAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,eAAa,CAAI,CAAC,cACtBnB,IAAA,QAAAmB,QAAA,CAAMC,IAAI,CAACC,SAAS,CAAChB,OAAO,CAAE,IAAI,CAAE,CAAC,CAAC,CAAM,CAAC,cAC7CL,IAAA,WAAQsB,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEL,OAAQ,CAAAC,QAAA,CAAC,UAExC,CAAQ,CAAC,EACN,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}